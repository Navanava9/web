<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>result</title>

    <script src="../Lib/echarts.js"></script>
    <script src="../Lib/jquery-3.6.0.js"></script>
</head>
<body>
<div id="pie" style="width: 600px;height:400px;"></div>
<div id="zhi" style="width: 600px;height:400px;"></div>
</body>
</html>

<script>
    $(document).ready(function () {
       $.ajax({
           type: "get",
           url: "../studentSummary.do",
           data: "",
           dataType: "json",
           success: function (response) {
               var pie = echarts.init(document.getElementById('pie'));

               option1 = {
                   title: {
                       text: '省份统计人数',
                       left: 'center'
                   },
                   tooltip: {
                       trigger: 'item'
                   },
                   legend: {
                       orient: 'vertical',
                       left: 'left'
                   },
                   series: [
                       {
                           name: 'Access From',
                           type: 'pie',
                           radius: '50%',
                           data: response,
                           emphasis: {
                               itemStyle: {
                                   shadowBlur: 10,
                                   shadowOffsetX: 0,
                                   shadowColor: 'rgba(0, 0, 0, 0.5)'
                               }
                           }
                       }
                   ]
               };

               pie.setOption(option1)
           }
       });
    });

    $(document).ready(function (){
        $.ajax({
            type: "get",
            url: "../studentSummary.do",
            data: "",
            dataType: "json",
            success : function (response) {
                var zhi = echarts.init(document.getElementById('zhi'));

                var provinceName = [];
                var provinceAmount = [];

                for (var i = 0; i < response.length; i++) {
                    provinceName.push(response[i].name);
                    provinceAmount.push(response[i].value);
                }

                option2 = {
                    xAxis: {
                        type: 'category',
                        data: provinceName
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                            data: provinceAmount,
                            type: 'bar'
                        }
                    ]
                };



                zhi.setOption(option2);
            }
        });
    });


</script>